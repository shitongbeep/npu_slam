# 二叉树

## defination

1. 深度 depth(v)
   由树的连通性,每一节点与根之间都有一条路径相联;而根据树的无环性,由根通往每个节点的路径必然唯一。
   沿每个节点v到根r的唯一通路所经过边的数目,称作v的深度(depth)
   根节点的深度depth(r) = 0,故属于第0层

2. 祖先和后代
   ancestor, descendant
   proper ancestor, proper descendant
   parent, child

3. 度 deg(v)
   v的孩子总数,称作其度数或度(degree)
   无孩子的节点称作叶节点(leaf)

4. 子树 subtree(v)
   v所有的后代及其之间的联边称作子树(subtree)
   
5. 高度 height(T)
   树T中所有节点深度的最大值称作该树的高度(height)
   全树的高度亦即其根节点r的高度,height(T) = height(r)

## 多叉树(k-ary tree)
1. 父节点表示法 (images/1.png)
   仅需常数时间,即可确定任一节点的父节点
   孩子节点的查找却不得不花费O(n)时间访遍所有节点
2. 子节点表示法 (images/2.png)
   对于拥有r个孩子的节点,可在O(r + 1)时间内列举出其所有的孩子
3. 父节点+子节点表示法 (images/3.png)
   各节点既记录父节点,同时也维护一个序列以保存所有孩子
4. 有序多叉树 = 二叉树
   
## 编码树

## 遍历(images/4.png)
1. 先序遍历(images/5.png)
   
2. 中序遍历(images/6.png)
   
3. 后序遍历(images/7.png)
   
4. 层次遍历
   

# 搜索树
## 二叉搜索树
1. 任一节点r的左(右)子树中,所有节点(若存在)均不大于(不小于)r
2. 任何一棵二叉树是二叉搜索树,当且仅当其中序遍历序列单调非降

### 查找
在最好情况下,目标关键码恰好出现在树根处(或其附近),此时只需O(1)时间。然而不幸的是,对于规模为n的二叉搜索树,深度在最坏情况下可达(n)。比如,当该树退化为(接近于)一条单链时,发生此类情况的概率将很高。此时的单次查找可能需要线性时间并不奇怪,因为实际上这样的一棵“二分”搜索树,已经退化成了一个不折不扣的一维有序列表,而此时的查找则等效于顺序查找。

若要控制单次查找在最坏情况下的运行时间,须从控制二叉搜索树的高度入手

无论是否能找到，都会返回一个节点位置(images/8.png)
### 插入
查找一定会返回叶节点（nullptr）只需要直接new一个，注意更新树的高度和树的大小
如果找到已经存在的，就直接返回
### 删除
如果找到的是nullptr，返回失败，不需要删除
如果是单子树（或者叶节点），直接用另一个子树（nullptr）代替，然后释放空间
如果是双子树，需要与直接后继交换，然后真正删除直接后继(images/9.png)

## 平衡二叉树
平衡二叉搜索树的适度平衡性,都是通过对树中每一局部增加某种限制条件来保证的。比如,在红黑树中,从树根到叶节点的通路,总是包含一样多的黑节点;在AVL树中,兄弟节点的高度相差不过1。事实上,这些限制条件设定得非常精妙,除了适度平衡性,还具有如下局部性:
1. 经过单次动态修改操作后,至多只有O(logn)处局部不再满足限制条件
2. 可在O(logn)时间内,使这O(logn)处局部(以至全树)重新满足限制条件
这就意味着:刚刚失去平衡的二叉搜索树,必然可以迅速转换为一棵等价的平衡二叉搜索树。等价二叉搜索树之间的上述转换过程,也称作等价变换。(images/10.png)

### 平衡性
1. 理想平衡 (h = log2n)
   叶节点只能出现于最底部两层
2. 适度平衡 (AVL)
   在渐进意义下适当放松标准之后的平衡性,称作适度平衡。
   渐进地不超过O(logn)
### 等价变换
若两棵二叉搜索树的中序遍历序列相同,则称它们彼此等价(images/10.png)
#### 性质
1. 兄弟节点的高度相差不过1
2. 经过单次动态修改操作后,至多只有O(logn)处局部不再满足限制条件
3. 可在O(logn)时间内,使这O(logn)处局部(以至全树)重新满足限制条件

### 旋转调整
1. zig (images/11.png)
2. zag (images/12.png)

zig和zag旋转均属局部操作,仅涉及常数个节点及其之间的联接关系,故均可在常数时间内完成。
经一次zig或zag旋转之后,节点v的深度加一,节点c的深度减一
这一局部子树(乃至全树)的高度可能发生变化,但上、下幅度均不超过一层

# AVL-tree 


   
